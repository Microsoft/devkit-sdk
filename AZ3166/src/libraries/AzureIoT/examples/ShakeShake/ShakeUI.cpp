// Copyright (c) Microsoft. All rights reserved.
// Licensed under the MIT license. 
#include "Arduino.h"
#include "ShakeUI.h"
#include "SystemTickCounter.h"

//////////////////////////////////////////////////////////////////////////////////////////////////////////
// Shake shake icon
static const unsigned char smallTweet [] = 
{
    0x00,0x00,0x38,0xf0,0xe0,0xe0,0xc0,0xc0,0xf0,0xfc,0xfa,0xfa,0xd8,0xf0,0xe0,0x80,
    0x40,0x00,0x00,0x00,0x00,0xd0,0xb0,0xb0,0x70,0x70,0xf0,0xf0,0xf0,0xf0,0xf0,0x70,
    0x70,0xb0,0xb0,0xd0,
    0x00,0x04,0x08,0x18,0x19,0x3b,0x3f,0x3f,0x3f,0x3f,0x3f,0x1f,0x1f,0x0f,0x07,0x01,
    0x01,0x00,0x00,0x00,0x00,0x1f,0x1f,0x1f,0x1f,0x1f,0x1e,0x1e,0x1d,0x1e,0x1e,0x1f,
    0x1f,0x1f,0x1f,0x1f
};

void DrawSmallTweetIcon(int line, int col)
{
    Screen.draw(col, line * 2, col + 36, line * 2 + 2, (unsigned char*)smallTweet);
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////
// Shake shake animation
const char* s1  = "  Shake!";
const char* s2  = "     Shake!";
const char* s3  = "        Shake!";
const char* list[3] = { s1, s2, s3 };

void DrawShakeAnimation(void)
{
    int idx = ((int)SystemTickCounterRead()) / 300;
    Screen.print(1, list[(idx + 0) % 3]);
    Screen.print(2, list[(idx + 1) % 3]);
    Screen.print(3, list[(idx + 2) % 3]);
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////
// Checkbox
static const unsigned char imgCheckbox1 [] = 
{
    0x00,0x00,0xfc,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0xfc,0x00,0x00,
    0x00,0x00,0x3f,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x3f,0x00,0x00
};

static const unsigned char imgCheckbox2 [] = 
{
    0x00,0x00,0xfc,0x04,0x84,0x84,0x04,0x04,0x84,0x84,0x44,0x24,0x04,0xfc,0x00,0x00,
    0x00,0x00,0x3f,0x20,0x20,0x21,0x23,0x23,0x21,0x20,0x20,0x20,0x20,0x3f,0x00,0x00
};

void DrawCheckBox(int line, int col, int status)
{
    if (status == 0)
    {
        Screen.draw(col, line * 2, col + 16, line * 2 + 2, (unsigned char*)imgCheckbox1);
    }
    else
    {
        Screen.draw(col, line * 2, col + 16, line * 2 + 2, (unsigned char*)imgCheckbox2);
    }
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////
// Incoming tweet
static const unsigned char newTweet [] = 
{
    0x00,0x00,0x00,0x00,0xc0,0xc0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x80,0xf0,0xf0,0xf8,0xdc,0xcc,0xcc,0xcc,0xc0,0xc0,0x80,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x0f,0x1f,0xff,0xff,0xfe,0xfc,0xfc,0xfc,0xf8,0xf0,0xf0,0xf8,
    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf3,0xf3,0xff,0xff,0xfe,0xfc,0xe0,
    0xe0,0x60,0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf3,0xf3,0xcf,0xcf,
    0xcf,0xcf,0x3f,0x3f,0x3f,0x3f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
    0x3f,0x3f,0x3f,0x3f,0xcf,0xcf,0xcf,0xcf,0xf3,0xf3,0x00,0x00,
    0x00,0x00,0x30,0x70,0xe0,0xc0,0xc0,0xc1,0xc3,0xc7,0xcf,0xef,0xff,0xff,0xff,0xff,
    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0x3f,0x07,
    0x03,0x07,0x06,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
    0xff,0xff,0xff,0xff,0xff,0xff,0xfc,0xfc,0xfc,0xfc,0xf3,0xf3,0xfc,0xfc,0xfe,0xfe,
    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x07,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,
    0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x07,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x00,0x00
};

static const unsigned char bigCry [] =
{
    0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xc0,0xe0,0xf0,0xf0,0xf8,0xf8,0xfc,0xfc,0xfc,
    0xfc,0xfc,0xfc,0xf8,0xf8,0xf0,0xf0,0xe0,0xc0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0xe0,0xf8,0xfe,0xff,0xff,0xe7,0xc3,0x81,0x81,0xc3,0xe7,0xff,0xff,0xff,
    0xff,0xff,0xff,0xe7,0xc3,0x81,0x81,0xc3,0xe7,0xff,0xff,0xfe,0xf8,0xe0,0x00,0x00,
    0x00,0x00,0x07,0x1f,0x7f,0xff,0xff,0xdf,0x8f,0x87,0xc3,0xe3,0xf1,0xf1,0xf8,0xf8,
    0xf8,0xf8,0xf1,0xf1,0xe3,0xc3,0x87,0x8f,0xdf,0xff,0xff,0x7f,0x1f,0x07,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x0f,0x0f,0x1f,0x1f,0x3f,0x3f,0x3f,
    0x3f,0x3f,0x3f,0x1f,0x1f,0x0f,0x0f,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00
};

void DrawTweetImage(int line, int col, int status)
{
    if (status == 0)
    {
        Screen.draw(col + 20, line * 2, col + 52, line * 2 + 4, (unsigned char*)bigCry);
    }
    else 
    {
        Screen.draw(col, line * 2, col + 76, line * 2 + 4, (unsigned char*)newTweet);
    }
}